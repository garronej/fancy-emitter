<input id="txt">
<button id="activate">Activate</button>
<button id="deactivate">Dectivate</button>
<pre id="log"></pre>

<script src="https://unpkg.com/fancy-emitter/dist/umd/index.min.js"></script>

<script>
    const action = new emitter.default,
        log = document.getElementById('log'),
        txt = document.getElementById('txt')
        
    document.getElementById('activate')
        .onclick = () => action.activate(txt.value)
        
    document.getElementById('deactivate')
        .onclick = () => action.deactivate(Error(txt.value))

    async function write() {
        try {
            for await (const data of action.all)
                log.innerHTML = `${data}\n${log.innerHTML}`
        } catch (e) {
            log.innerHTML = `----\n${e}\n----\n\n${log.innerHTML}`
        }
        log.innerHTML = `DONE\n${log.innerHTML}`
    }
    
    write()
</script>